---
- hosts: all
  become: yes
  vars:
    jenkins_version: "2.277.4"
    jenkins_hostname: ""
    jenkins_url: 192.168.0.102
    jenkins_port: 8080
    jenkins_admin: "vieskov"
    #jenkins_java_opts: "-Djenkins.install.runSetupWizard=false"
    jenkins_config_owner: "jenkins"
    jenkins_config_group: "jenkins"
    jenkins_install_via: "apt" 
    jenkins_include_custom_files: true
    jenkins_custom_files:
      - src:  "com.cloudbees.hudson.plugins.folder.config.AbstractFolderConfiguration.xml"
        dest: "com.cloudbees.hudson.plugins.folder.config.AbstractFolderConfiguration.xml"
      - src:  "github-plugin-configuration.xml"
        dest: "github-plugin-configuration.xml" 
      - src:  "hudson.model.UpdateCenter.xml"
        dest: "hudson.model.UpdateCenter.xml" 
      - src:  "hudson.plugins.build_timeout.operations.BuildStepOperation.xml"
        dest: "hudson.plugins.build_timeout.operations.BuildStepOperation.xml" 
      - src:  "hudson.plugins.emailext.ExtendedEmailPublisher.xml"
        dest: "hudson.plugins.emailext.ExtendedEmailPublisher.xml" 
      - src:  "hudson.plugins.git.GitSCM.xml"
        dest: "hudson.plugins.git.GitSCM.xml" 
      - src:  "hudson.plugins.git.GitTool.xml"
        dest: "hudson.plugins.git.GitTool.xml" 
      - src:  "hudson.plugins.timestamper.TimestamperConfig.xml"
        dest: "hudson.plugins.timestamper.TimestamperConfig.xml"
      - src:  "hudson.tasks.Mailer.xml"
        dest: "hudson.tasks.Mailer.xml" 
      - src:  "hudson.tasks.Shell.xml"
        dest: "hudson.tasks.Shell.xml" 
      - src:  "hudson.triggers.SCMTrigger.xml"
        dest: "hudson.triggers.SCMTrigger.xml" 
      - src:  "io.jenkins.plugins.junit.storage.JunitTestResultStorageConfiguration.xml"
        dest: "io.jenkins.plugins.junit.storage.JunitTestResultStorageConfiguration.xml" 
      - src:  "jenkins.fingerprints.GlobalFingerprintConfiguration.xml"
        dest: "jenkins.fingerprints.GlobalFingerprintConfiguration.xml" 
      - src:  "jenkins.model.ArtifactManagerConfiguration.xml"
        dest: "jenkins.model.ArtifactManagerConfiguration.xml" 
      - src:  "jenkins.model.GlobalBuildDiscarderConfiguration.xml"
        dest: "jenkins.model.GlobalBuildDiscarderConfiguration.xml" 
      - src:  "jenkins.model.JenkinsLocationConfiguration.xml"
        dest: "jenkins.model.JenkinsLocationConfiguration.xml" 
      - src:  "jenkins.security.ResourceDomainConfiguration.xml"
        dest: "jenkins.security.ResourceDomainConfiguration.xml" 
      - src:  "jenkins.tasks.filters.EnvVarsFilterGlobalConfiguration.xml"
        dest: "jenkins.tasks.filters.EnvVarsFilterGlobalConfiguration.xml" 
      - src:  "locale.xml"
        dest: "locale.xml" 
      - src:  "nodeMonitors.xml"
        dest: "nodeMonitors.xml" 
      - src:  "org.jenkins.plugins.lockableresources.LockableResourcesManager.xml"
        dest: "org.jenkins.plugins.lockableresources.LockableResourcesManager.xml" 
      - src:  "org.jenkinsci.plugins.github_branch_source.GitHubConfiguration.xml"
        dest: "org.jenkinsci.plugins.github_branch_source.GitHubConfiguration.xml" 
      - src:  "org.jenkinsci.plugins.workflow.flow.GlobalDefaultFlowDurabilityLevel.xml"
        dest: "org.jenkinsci.plugins.workflow.flow.GlobalDefaultFlowDurabilityLevel.xml" 
      - src:  "org.jenkinsci.plugins.workflow.libs.GlobalLibraries.xml"
        dest: "org.jenkinsci.plugins.workflow.libs.GlobalLibraries.xml" 
      - src:  "scriptApproval.xml"
        dest: "scriptApproval.xml" 
          
                 
    jenkins_plugins:
      - ace-editor
      - ant
      - antisamy-markup-formatter
      - apache-httpcomponents-client-4-api
      - bootstrap4-api
      - bouncycastle-api
      - branch-api
      - build-timeout
      - caffeine-api
      - checks-api
      - cloudbees-folder
      - command-launcher
      - credentials-binding
      - credentials
      - display-url-api
      - durable-task
      - echarts-api
      - email-ext
      - font-awesome-api
      - git-client
      - git-server
      - git
      - github-api
      - github-branch-source
      - github
      - gradle
      - greenballs
      - handlebars
      - jackson2-api
      - jdk-tool
      - jjwt-api
      - jquery3-api
      - jsch
      - junit
      - ldap
      - locale
      - lockable-resources
      - mailer
      - matrix-auth
      - matrix-project
      - momentjs
      - okhttp-api
      - pam-auth
      - pipeline-build-step
      - pipeline-github-lib
      - pipeline-graph-analysis
      - pipeline-input-step
      - pipeline-milestone-step
      - pipeline-model-api
      - pipeline-model-definition
      - pipeline-model-extensions
      - pipeline-rest-api
      - pipeline-stage-step
      - pipeline-stage-tags-metadata
      - pipeline-stage-view
      - plain-credentials
      - plugin-util-api
      - popper-api
      - publish-over-ssh
      - publish-over
      - resource-disposer
      - scm-api
      - script-security
      - snakeyaml-api
      - ssh-credentials
      - ssh-slaves
      - structs
      - timestamper
      - token-macro
      - trilead-api
      - workflow-aggregator
      - workflow-api
      - workflow-basic-steps
      - workflow-cps-global-lib
      - workflow-cps
      - workflow-durable-task-step
      - workflow-job
      - workflow-multibranch
      - workflow-scm-step
      - workflow-step-api
      - workflow-support
      - ws-cleanup
      
  roles:
    - emmetog.jenkins